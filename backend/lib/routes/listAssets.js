import { dbGet } from "../cloudFunctions/index.js";
import { WrappedConsole } from "../utils/wrappedConsole.js";
export const listAssets = async (req, res) => {
  const wrappedConsole = new WrappedConsole("GET");
  let assetList;
  const query = {
    "TableName": "assetBeePlus",
    "KeyConditionExpression": "#kn0 = :kv0",
    "IndexName": "type-index",
    "ExpressionAttributeNames": {
      "#kn0": "type"
    },
    "ExpressionAttributeValues": {
      ":kv0": "Monitor"
    },
    "Select": "ALL_PROJECTED_ATTRIBUTES"
  };
  try {
    assetList = await dbGet(query);
  } catch (error) {
    wrappedConsole.error("Error while fetching asset list ", error);
    res.send(false);
  }
  res.send(assetList);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYkdldCIsIldyYXBwZWRDb25zb2xlIiwibGlzdEFzc2V0cyIsInJlcSIsInJlcyIsIndyYXBwZWRDb25zb2xlIiwiYXNzZXRMaXN0IiwicXVlcnkiLCJlcnJvciIsInNlbmQiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvcm91dGVzL2xpc3RBc3NldHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGJHZXQgfSBmcm9tIFwiLi4vY2xvdWRGdW5jdGlvbnMvaW5kZXguanNcIlxuaW1wb3J0IHsgV3JhcHBlZENvbnNvbGUgfSBmcm9tIFwiLi4vdXRpbHMvd3JhcHBlZENvbnNvbGUuanNcIlxuXG5leHBvcnQgY29uc3QgbGlzdEFzc2V0cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB3cmFwcGVkQ29uc29sZSA9IG5ldyBXcmFwcGVkQ29uc29sZShcIkdFVFwiKVxuICBsZXQgYXNzZXRMaXN0XG4gIGNvbnN0IHF1ZXJ5ID0ge1xuICAgIFwiVGFibGVOYW1lXCI6IFwiYXNzZXRCZWVQbHVzXCIsXG4gICAgXCJLZXlDb25kaXRpb25FeHByZXNzaW9uXCI6IFwiI2tuMCA9IDprdjBcIixcbiAgICBcIkluZGV4TmFtZVwiOiBcInR5cGUtaW5kZXhcIixcbiAgICBcIkV4cHJlc3Npb25BdHRyaWJ1dGVOYW1lc1wiOiB7XG4gICAgICBcIiNrbjBcIjogXCJ0eXBlXCJcbiAgICB9LFxuICAgIFwiRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlc1wiOiB7XG4gICAgICBcIjprdjBcIjogXCJNb25pdG9yXCJcbiAgICB9LFxuICAgIFwiU2VsZWN0XCI6IFwiQUxMX1BST0pFQ1RFRF9BVFRSSUJVVEVTXCJcbiAgfVxuICB0cnkge1xuICAgIGFzc2V0TGlzdCA9IGF3YWl0IGRiR2V0KHF1ZXJ5KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHdyYXBwZWRDb25zb2xlLmVycm9yKFwiRXJyb3Igd2hpbGUgZmV0Y2hpbmcgYXNzZXQgbGlzdCBcIiwgZXJyb3IpXG4gICAgcmVzLnNlbmQoZmFsc2UpXG4gIH1cblxuICByZXMuc2VuZChhc3NldExpc3QpXG59Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxLQUFLLFFBQVEsNEJBQTRCO0FBQ2xELFNBQVNDLGNBQWMsUUFBUSw0QkFBNEI7QUFFM0QsT0FBTyxNQUFNQyxVQUFVLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDNUMsTUFBTUMsY0FBYyxHQUFHLElBQUlKLGNBQWMsQ0FBQyxLQUFLLENBQUM7RUFDaEQsSUFBSUssU0FBUztFQUNiLE1BQU1DLEtBQUssR0FBRztJQUNaLFdBQVcsRUFBRSxjQUFjO0lBQzNCLHdCQUF3QixFQUFFLGFBQWE7SUFDdkMsV0FBVyxFQUFFLFlBQVk7SUFDekIsMEJBQTBCLEVBQUU7TUFDMUIsTUFBTSxFQUFFO0lBQ1YsQ0FBQztJQUNELDJCQUEyQixFQUFFO01BQzNCLE1BQU0sRUFBRTtJQUNWLENBQUM7SUFDRCxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0QsSUFBSTtJQUNGRCxTQUFTLEdBQUcsTUFBTU4sS0FBSyxDQUFDTyxLQUFLLENBQUM7RUFDaEMsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtJQUNkSCxjQUFjLENBQUNHLEtBQUssQ0FBQyxrQ0FBa0MsRUFBRUEsS0FBSyxDQUFDO0lBQy9ESixHQUFHLENBQUNLLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDakI7RUFFQUwsR0FBRyxDQUFDSyxJQUFJLENBQUNILFNBQVMsQ0FBQztBQUNyQixDQUFDIn0=