import QRCode from 'qrcode';
import fs from 'fs';
export const generateQrCode = async (asset, wrappedConsole) => {
  try {
    //Generates QR code and stores it inside tempQRCodes
    await new Promise((resolve, reject) => {
      QRCode.toFile(`./src/uploadQrCode/tempQrCodes/${asset.internalId}.png`, asset.url, err => err ? reject(err) : resolve(asset.internalId));
    });

    // The QR code is stored as a buffer
    const qrCode = fs.readFileSync(`./src/uploadQrCode/tempQrCodes/${asset.internalId}.png`);
    return qrCode;
  } catch (error) {
    wrappedConsole.log("Error while generating qr code", error);
    return false;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJRUkNvZGUiLCJmcyIsImdlbmVyYXRlUXJDb2RlIiwiYXNzZXQiLCJ3cmFwcGVkQ29uc29sZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidG9GaWxlIiwiaW50ZXJuYWxJZCIsInVybCIsImVyciIsInFyQ29kZSIsInJlYWRGaWxlU3luYyIsImVycm9yIiwibG9nIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VwbG9hZFFyQ29kZS9nZW5lcmF0ZVFyQ29kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUVJDb2RlIGZyb20gJ3FyY29kZSdcbmltcG9ydCBmcyBmcm9tICdmcydcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUXJDb2RlID0gYXN5bmMoYXNzZXQsIHdyYXBwZWRDb25zb2xlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy9HZW5lcmF0ZXMgUVIgY29kZSBhbmQgc3RvcmVzIGl0IGluc2lkZSB0ZW1wUVJDb2Rlc1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICBRUkNvZGUudG9GaWxlKGAuL3NyYy91cGxvYWRRckNvZGUvdGVtcFFyQ29kZXMvJHthc3NldC5pbnRlcm5hbElkfS5wbmdgLCBhc3NldC51cmwsZXJyID0+IGVyciA/IHJlamVjdChlcnIpOiByZXNvbHZlKGFzc2V0LmludGVybmFsSWQpKVxuICAgICAgICAgICB9KSBcblxuICAgICAgICAgICAvLyBUaGUgUVIgY29kZSBpcyBzdG9yZWQgYXMgYSBidWZmZXJcbiAgICAgICAgICAgY29uc3QgcXJDb2RlID0gZnMucmVhZEZpbGVTeW5jKGAuL3NyYy91cGxvYWRRckNvZGUvdGVtcFFyQ29kZXMvJHthc3NldC5pbnRlcm5hbElkfS5wbmdgKTtcbiAgICAgICAgICAgcmV0dXJuIHFyQ29kZVxuICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICB3cmFwcGVkQ29uc29sZS5sb2coXCJFcnJvciB3aGlsZSBnZW5lcmF0aW5nIHFyIGNvZGVcIiwgZXJyb3IpXG4gICAgICAgcmV0dXJuIGZhbHNlXG4gICB9XG59Il0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxNQUFNLE1BQU0sUUFBUTtBQUMzQixPQUFPQyxFQUFFLE1BQU0sSUFBSTtBQUVuQixPQUFPLE1BQU1DLGNBQWMsR0FBRyxNQUFBQSxDQUFNQyxLQUFLLEVBQUVDLGNBQWMsS0FBSztFQUMxRCxJQUFJO0lBQ0E7SUFDQSxNQUFNLElBQUlDLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sS0FBSztNQUNoQ1AsTUFBTSxDQUFDUSxNQUFNLENBQUUsa0NBQWlDTCxLQUFLLENBQUNNLFVBQVcsTUFBSyxFQUFFTixLQUFLLENBQUNPLEdBQUcsRUFBQ0MsR0FBRyxJQUFJQSxHQUFHLEdBQUdKLE1BQU0sQ0FBQ0ksR0FBRyxDQUFDLEdBQUVMLE9BQU8sQ0FBQ0gsS0FBSyxDQUFDTSxVQUFVLENBQUMsQ0FBQztJQUMxSSxDQUFDLENBQUM7O0lBRUY7SUFDQSxNQUFNRyxNQUFNLEdBQUdYLEVBQUUsQ0FBQ1ksWUFBWSxDQUFFLGtDQUFpQ1YsS0FBSyxDQUFDTSxVQUFXLE1BQUssQ0FBQztJQUN4RixPQUFPRyxNQUFNO0VBQ3JCLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7SUFDWlYsY0FBYyxDQUFDVyxHQUFHLENBQUMsZ0NBQWdDLEVBQUVELEtBQUssQ0FBQztJQUMzRCxPQUFPLEtBQUs7RUFDaEI7QUFDSCxDQUFDIn0=